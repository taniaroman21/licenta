<div class="login-container">
    <mat-card>
        <mat-card-header>
            <mat-card-title><img id="logo" src=".\assets\logo.svg"> <br />
                <h1 class="default-title">MedCare</h1>
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form [formGroup]="loginForm" *ngIf="!register">
                <mat-form-field floatLabel="always">
                    <mat-label>
                        Email
                    </mat-label>
                    <input matInput type="email" formControlName="email" autocomplete="off">
                </mat-form-field>
                <mat-form-field floatLabel="always">
                    <mat-label>
                        Password
                    </mat-label>
                    <input matInput type="password" formControlName="password">
                </mat-form-field>
            </form>
            <div class="registration-types" *ngIf="register">
                <div class="user-register" (click)="registerAsUser=true" [ngClass]="{'active': registerAsUser}">Register
                    as pacient</div>
                <div class="clinic-register" (click)="registerAsUser=false" [ngClass]="{'active': !registerAsUser}">
                    Register your clinic</div>
            </div>
            <form [formGroup]="registerForm" *ngIf="register && registerAsUser">
                <mat-form-field floatLabel="always">
                    <mat-label>
                        Email
                    </mat-label>
                    <input matInput type="email" formControlName="email" autocomplete="off"
                        placeholder="Please enter a valid email address...">
                </mat-form-field>
                <mat-form-field floatLabel="always">
                    <mat-label>
                        First Name
                    </mat-label>
                    <input matInput type="text" formControlName="firstName" autocomplete="off"
                        placeholder="Please enter your first name and middle names if existent...">
                </mat-form-field>
                <mat-form-field floatLabel="always">
                    <mat-label>
                        Last Name
                    </mat-label>
                    <input matInput type="text" formControlName="lastName" autocomplete="off"
                        placeholder="Please enter your last name...">
                </mat-form-field>
                <mat-form-field floatLabel="always">
                    <mat-label>
                        Password
                    </mat-label>
                    <input matInput type="password" formControlName="password"
                        placeholder="Please enter a solid password...">
                </mat-form-field>
                <mat-form-field floatLabel="always">
                    <mat-label>
                        Repeat Password
                    </mat-label>
                    <input matInput type="password" formControlName="repeatPassword"
                        placeholder="Please repeat your password...">
                    <mat-hint *ngIf="registerForm.errors?.unmatch && (registerForm.touched || registerForm.dirty)">
                        Passwords
                        have to match</mat-hint>
                </mat-form-field>
            </form>
            <form [formGroup]="registerClinicForm" *ngIf="register && !registerAsUser">
                <mat-form-field floatLabel="always">
                    <mat-label>
                        Email
                    </mat-label>
                    <input matInput type="email" formControlName="email" autocomplete="off"
                        placeholder="The email of the clinic...">
                </mat-form-field>
                <mat-form-field floatLabel="always">
                    <mat-label>
                        Clinic Name
                    </mat-label>
                    <input matInput type="text" formControlName="name" autocomplete="off"
                        placeholder="The exact name that the clinic is registered under..">
                </mat-form-field>
                <mat-form-field floatLabel="always">
                    <mat-label>
                        County
                    </mat-label>
                    <mat-select formControlName="county" (selectionChange)="showCities()"
                        placeholder="Please select county">
                        <mat-option *ngFor="let county of counties" [value]="county">
                            {{county.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field floatLabel="always">
                    <mat-label>
                        City
                    </mat-label>
                    <mat-select formControlName="city" placeholder="Please select city">
                        <mat-option *ngFor="let city of cities" [value]="city">
                            {{city.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field floatLabel="always">
                    <mat-label>
                        Password
                    </mat-label>
                    <input matInput type="password" formControlName="password" placeholder="Enter a strong password...">
                </mat-form-field>
                <mat-form-field floatLabel="always">
                    <mat-label>
                        Repeat Password
                    </mat-label>
                    <input matInput type="password" formControlName="repeatPassword" placeholder="Password again...">
                    <mat-hint
                        *ngIf="registerClinicForm.errors?.unmatch && (registerForm.touched || registerForm.dirty)">
                        Passwords
                        have to match</mat-hint>
                </mat-form-field>
            </form>
        </mat-card-content>
        <mat-card-footer>
            <mat-card-actions *ngIf="!register">
                <button mat-button class="login-btn default-btn" (click)="getLogin()">LOG IN</button> <br />
                <button class="register" (click)="register=true">Don't have an account? Register now</button>
            </mat-card-actions>
            <mat-card-actions *ngIf="register">
                <button mat-button class="login-btn default-btn" (click)="registerUser()">REGISTER</button> <br />
                <button class="register" (click)="register=false">Back to Log In</button></mat-card-actions>
        </mat-card-footer>
    </mat-card>
</div>